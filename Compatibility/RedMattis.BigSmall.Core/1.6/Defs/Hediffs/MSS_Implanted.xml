<Defs>
  <HediffDef>
    <defName>MSS_Implanted</defName>
    <label>implanted</label>
    <description>This creature is being controlled by a parasite. The parasite is heightening their abilities, but also putting their metabolism into overdrive.</description>
    <isBad>false</isBad>
    <everCurableByItem>false</everCurableByItem>
    <initialSeverity>1</initialSeverity>
    <hediffClass>BigAndSmall.Piloted</hediffClass>
    <stages>
      <li>
        <label>parasite present</label>
        <painFactor>0.5</painFactor>
        <hungerRateFactor>1.3</hungerRateFactor>
        <statFactors>
          <GlobalLearningFactor>1.3</GlobalLearningFactor>
        </statFactors>
      </li>
    </stages>
    <comps>
      <li Class="BigAndSmall.CompProperties_Piloted">
        <pilotRequired>true</pilotRequired>
        <pilotCapacity>1</pilotCapacity>
        <flatBonusIfPiloted>0.25</flatBonusIfPiloted>
        <pilotConsciousnessOffset>1</pilotConsciousnessOffset>
        <temporarilySwapIdeology>true</temporarilySwapIdeology>
        <temporarilySwapFaction>true</temporarilySwapFaction>
        <removeIfNoPilot>true</removeIfNoPilot>
        <injuryOnRemoval>10</injuryOnRemoval>
        <pilotLearnSkills>0.2</pilotLearnSkills>
        <canAutoEjectIfColonist>false</canAutoEjectIfColonist>
        <inheritPilotSkills>true</inheritPilotSkills>
        <inheritPilotMentalTraits>true</inheritPilotMentalTraits>
        <temporarilySwapName>true</temporarilySwapName>
        <inheritRelationShips>true</inheritRelationShips>
        
        <!-- kill the host when the parasite exits-->
        <killOnRemove>false</killOnRemove>
        
        <!-- xenotype to apply to the host when the parasite enters-->
        <xenotypeToApplyOnApply>MSS_Gaupossessed</xenotypeToApplyOnApply> 
        
        <!-- xenotype to apply to the host when the parasite exits-->
        <xenotypeToApplyOnRemove>MSS_GauHusk</xenotypeToApplyOnRemove>
        
        <!-- Restore the hosts xenotype to the original when the parasite exits-->
        <restoreXenotypeOnRemove>false</restoreXenotypeOnRemove> 
        
        <!-- pilot should  gain the hosts mental traits when it leaves-->
        <pilotInheritMentalTraitsOnRemove>true</pilotInheritMentalTraitsOnRemove> 
        
        <!-- Hediffs applied to the host when the parasite enters-->
        <!-- <hediffsToApplyOnEnter></hediffsToApplyOnEnter> --> 
        
        <!-- Hediffs applied to the host when the parasite exits-->
        <hediffsToApplyOnRemove> 
          <MSS_Husk>1</MSS_Husk>
        </hediffsToApplyOnRemove>
      </li>
      <li Class="BigAndSmall.CompProperties_GiveAbilities">
        <abilities>
          <li>BS_EjectPilot</li>
        </abilities>
      </li>
    </comps>
  </HediffDef>

  <!-- from RedMattis - tweaked from BS_Soulless -->
  <HediffDef>
    <defName>MSS_Husk</defName>
    <label>Empty Husk</label>
    <description>Without it's Gauranlen Queen, this person is just an empty husk.</description>
    <isBad>true</isBad>
    <everCurableByItem>false</everCurableByItem>
    <keepOnBodyPartRestoration>true</keepOnBodyPartRestoration>
    <aptitudes>
      <Social>-20</Social>
      <Intellectual>-12</Intellectual>
      <Animals>-12</Animals>
      <Artistic>-12</Artistic>
      <Crafting>-4</Crafting>
      <Construction>-4</Construction>
      <Plants>-4</Plants>
      <Medicine>-4</Medicine>
      <Cooking>-4</Cooking>
    </aptitudes>
    <stages>
      <li>
        <painFactor>0.30</painFactor>
        <socialFightChanceFactor>0</socialFightChanceFactor>
        <statFactors>
          <PsychicSensitivity>0</PsychicSensitivity>
          <GlobalLearningFactor>0</GlobalLearningFactor>
          <SlaveSuppressionFallRate MayRequire="Ludeon.RimWorld.Ideology">-1.00</SlaveSuppressionFallRate>
        </statFactors>
        <statOffsets>
          <PawnBeauty>-1</PawnBeauty>
          <SlaveSuppressionOffset MayRequire="Ludeon.RimWorld.Ideology">2.0</SlaveSuppressionOffset>
        </statOffsets>
        <hungerRateFactor>0.7</hungerRateFactor>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <!-- <setMax>0.8</setMax> -->
            <offset>-0.20</offset>
          </li>
        </capMods>
        <disablesNeeds>
          <!-- <li>Rest</li> -->
          <li>Comfort</li>
          <li>Mood</li>
          <li>Beauty</li>
          <li>Outdoors</li>
          <li>Indoors</li>
          <li>Joy</li>
        </disablesNeeds>
      </li>
    </stages>
    <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
  </HediffDef>
</Defs>